---
product:
    videos:
        limit: {{theme_settings.productpage_videos_count}}
    reviews:
        limit: {{theme_settings.productpage_reviews_count}}
    related_products:
        limit: {{theme_settings.productpage_related_products_count}}
    similar_by_views:
        limit: {{theme_settings.productpage_similar_by_views_count}}
---
{{#partial "page"}}
<script src="https://kit.fontawesome.com/46efe1203f.js" crossorigin="anonymous"></script>
    {{> components/common/breadcrumbs breadcrumbs=breadcrumbs}}

<!--
    {{#each product.shipping_messages}}
        {{> components/common/alert-info message}}
    {{/each}}
-->

    <div itemscope itemtype="http://schema.org/Product" id="desktop-view-product-page">
        {{> components/products/product-view schema=true}}

        <!--{{> components/products/videos product.videos}}-->

        {{> components/products/tabs}}
        <!--
        <div class="yotpo yotpo-main-widget" 
            data-product-id="{{ product.id }}"
            data-price="{{ product.price.without_tax.value }}"
            data-currency="{{ currency_selector.active_currency_code }}" 
            data-name="{{ product.title }}" 
            data-url="{{ product.url }}" 
            data-image-url="{{getImage product.main_image}}" 
            data-description="{{ product.description }}"> 
        </div>
        --> 

    </div>

{{/partial}}

{{> layout/product-base}}

<script type="text/javascript"> 
var _learnq = _learnq || []; 

 var item = {
   Name: "{{product.title}}", 
   ProductID: "{{product.id}}",
   ImageURL: "{{getImage product.main_image 'product_size' (cdn theme_settings.default_image_product)}}", 
   URL: "{{product.url}}",
   Brand: "{{product.brand.name}}", 
   Price: "{{product.price.without_tax.value}}",
   CompareAtPrice: "{{product.price.rrp_without_tax.value}}"
  };

_learnq.push(['track', 'Viewed Product', item]); 

_learnq.push(['trackViewedItem', {
   Title: item.Name, 
   ItemId: item.ProductID,
   ImageUrl: item.ImageURL, 
   Url: item.URL,

   Metadata: { 
     Brand: item.Brand,
     Price: item.Price, 
     CompareAtPrice: item.CompareAtPrice
 } 
 }]);
</script>
